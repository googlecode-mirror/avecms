// ----------------------------------------------------------------------------
// markItUp! Universal MarkUp Engine, JQuery plugin
// v 1.1.8
// Dual licensed under the MIT and GPL licenses.
// ----------------------------------------------------------------------------
// Copyright (C) 2007-2010 Jay Salvat
// http://markitup.jaysalvat.com/
// ----------------------------------------------------------------------------
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(3($){$.24.T=3(f,g){B k,v,A,F;v=A=F=m;k={D:\'\',12:\'\',U:\'\',1k:\'\',1z:7,25:\'26\',1l:\'~/2S/1A.1B\',1d:\'\',27:\'28\',1m:7,1C:\'\',1D:\'\',1E:{},1F:{},1G:{},1H:{},29:[{}]};$.V(k,f,g);2(!k.U){$(\'2T\').1e(3(a,b){1I=$(b).14(0).2U.2V(/(.*)2W\\.2X(\\.2Y)?\\.2Z$/);2(1I!==2a){k.U=1I[1]}})}4 G.1e(3(){B d,8,15,16,q,H,K,O,17,1n,w,2b,L,18;d=$(G);8=G;15=[];18=m;16=q=0;H=-1;k.1d=1f(k.1d);k.1l=1f(k.1l);3 1f(a,b){2(b){4 a.W(/("|\')~\\//g,"$1"+k.U)}4 a.W(/^~\\//,k.U)}3 2c(){D=\'\';12=\'\';2(k.D){D=\'D="\'+k.D+\'"\'}l 2(d.1J("D")){D=\'D="T\'+(d.1J("D").2d(0,1).30())+(d.1J("D").2d(1))+\'"\'}2(k.12){12=\'M="\'+k.12+\'"\'}d.1K(\'<z \'+12+\'></z>\');d.1K(\'<z \'+D+\' M="T"></z>\');d.1K(\'<z M="31"></z>\');d.2e("2f");17=$(\'<z M="32"></z>\').2g(d);$(1L(k.29)).1M(17);1n=$(\'<z M="33"></z>\').1N(d);2(k.1m===7&&$.X.34!==7){1m=$(\'<z M="35"></z>\').1N(d).1g("1O",3(e){B h=d.2h(),y=e.2i,1o,1p;1o=3(e){d.2j("2h",36.37(20,e.2i+h-y)+"38");4 m};1p=3(e){$("1B").1P("2k",1o).1P("2l",1p);4 m};$("1B").1g("2k",1o).1g("2l",1p)});1n.2m(1m)}d.2n(1Q).39(1Q);d.1g("1R",3(e,a){2(a.1q!==m){14()}2(8===$.T.2o){Y(a)}});d.19(3(){$.T.2o=G})}3 1L(b){B c=$(\'<Z></Z>\'),i=0;$(\'C:2p > Z\',c).2j(\'3a\',\'u\');$.1e(b,3(){B a=G,t=\'\',1r,C,j;1r=(a.1a)?(a.1S||\'\')+\' [3b+\'+a.1a+\']\':(a.1S||\'\');1a=(a.1a)?\'2q="\'+a.1a+\'"\':\'\';2(a.2r){C=$(\'<C M="3c">\'+(a.2r||\'\')+\'</C>\').1M(c)}l{i++;2s(j=15.6-1;j>=0;j--){t+=15[j]+"-"}C=$(\'<C M="2t 2t\'+t+(i)+\' \'+(a.3d||\'\')+\'"><a 3e="" \'+1a+\' 1r="\'+1r+\'">\'+(a.1S||\'\')+\'</a></C>\').1g("3f",3(){4 m}).2u(3(){4 m}).3g(3(){d.19()}).1O(3(){2(a.2v){3h(a.2v)()}2w(3(){Y(a)},1);4 m}).2p(3(){$(\'> Z\',G).3i();$(E).3j(\'2u\',3(){$(\'Z Z\',17).2x()})},3(){$(\'> Z\',G).2x()}).1M(c);2(a.2y){15.3k(i);$(C).2e(\'3l\').2m(1L(a.2y))}}});15.3m();4 c}3 2z(c){2(c){c=c.3n();c=c.W(/\\(\\!\\(([\\s\\S]*?)\\)\\!\\)/g,3(x,a){B b=a.1T(\'|!|\');2(F===7){4(b[1]!==2A)?b[1]:b[0]}l{4(b[1]===2A)?"":b[0]}});c=c.W(/\\[\\!\\[([\\s\\S]*?)\\]\\!\\]/g,3(x,a){B b=a.1T(\':!:\');2(18===7){4 m}P=3o(b[0],(b[1])?b[1]:\'\');2(P===2a){18=7}4 P});4 c}4""}3 I(a){2($.3p(a)){a=a(O)}4 2z(a)}3 1h(a){J=I(K.J);1b=I(K.1b);Q=I(K.Q);N=I(K.N);2(Q!==""){u=J+Q+N}l 2(o===\'\'&&1b!==\'\'){u=J+1b+N}l{u=J+(a||o)+N}4{u:u,J:J,Q:Q,1b:1b,N:N}}3 Y(a){B b,j,n,i;O=K=a;14();$.V(O,{1s:"",U:k.U,8:8,o:(o||\'\'),q:q,v:v,A:A,F:F});I(k.1C);I(K.1C);2(v===7&&A===7){I(K.3q)}$.V(O,{1s:1});2(v===7&&A===7){R=o.1T(/\\r?\\n/);2s(j=0,n=R.6,i=0;i<n;i++){2($.3r(R[i])!==\'\'){$.V(O,{1s:++j,o:R[i]});R[i]=1h(R[i]).u}l{R[i]=""}}p={u:R.3s(\'\\n\')};11=q;b=p.u.6+(($.X.1U)?n-1:0)}l 2(v===7){p=1h(o);11=q+p.J.6;b=p.u.6-p.J.6-p.N.6;b-=1t(p.u)}l 2(A===7){p=1h(o);11=q;b=p.u.6;b-=1t(p.u)}l{p=1h(o);11=q+p.u.6;b=0;11-=1t(p.u)}2((o===\'\'&&p.Q===\'\')){H+=1V(p.u);11=q+p.J.6;b=p.u.6-p.J.6-p.N.6;H=d.1c().1i(q,d.1c().6).6;H-=1V(d.1c().1i(0,q))}$.V(O,{q:q,16:16});2(p.u!==o&&18===m){2B(p.u);1W(11,b)}l{H=-1}14();$.V(O,{1s:\'\',o:o});2(v===7&&A===7){I(K.3t)}I(K.1D);I(k.1D);2(w&&k.1z){1X()}A=F=v=18=m}3 1V(a){2($.X.1U){4 a.6-a.W(/\\n*/g,\'\').6}4 0}3 1t(a){2($.X.2C){4 a.6-a.W(/\\r*/g,\'\').6}4 0}3 2B(a){2(E.o){B b=E.o.1Y();b.2D=a}l{8.P=8.P.1i(0,q)+a+8.P.1i(q+o.6,8.P.6)}}3 1W(a,b){2(8.2E){2($.X.1U&&$.X.3u>=9.5&&b==0){4 m}1j=8.2E();1j.3v(7);1j.2F(\'1Z\',a);1j.3w(\'1Z\',b);1j.3x()}l 2(8.2G){8.2G(a,a+b)}8.1u=16;8.19()}3 14(){8.19();16=8.1u;2(E.o){o=E.o.1Y().2D;2($.X.2C){B a=E.o.1Y(),1v=a.3y();1v.3z(8);q=-1;3A(1v.3B(a)){1v.2F(\'1Z\');q++}}l{q=8.2H}}l{q=8.2H;o=8.P.1i(q,8.3C)}4 o}3 1A(){2(!w||w.3D){2(k.1k){w=2I.2J(\'\',\'1A\',k.1k);$(2I).3E(3(){w.21()})}l{L=$(\'<2K M="3F"></2K>\');2(k.25==\'26\'){L.1N(1n)}l{L.2g(17)}w=L[L.6-1].3G||3H[L.6-1]}}l 2(F===7){2(L){L.3I()}l{w.21()}w=L=m}2(!k.1z){1X()}2(k.1k){w.19()}}3 1X(){2L()}3 2L(){B b;2(k.1d!==\'\'){$.2M({2N:\'3J\',2O:k.1d,28:k.27+\'=\'+3K(d.1c()),2P:3(a){22(1f(a,1))}})}l{2(!2b){$.2M({2O:k.1l,2P:3(a){22(1f(a,1).W(/<!-- 3L -->/g,d.1c()))}})}}4 m}3 22(a){2(w.E){3M{23=w.E.2Q.1u}3N(e){23=0}w.E.2J();w.E.3O(a);w.E.21();w.E.2Q.1u=23}}3 1Q(e){A=e.A;F=e.F;v=(!(e.F&&e.v))?e.v:m;2(e.2N===\'2n\'){2(v===7){C=$("a[2q="+3P.3Q(e.1w)+"]",17).1x(\'C\');2(C.6!==0){v=m;2w(3(){C.3R(\'1O\')},1);4 m}}2(e.1w===13||e.1w===10){2(v===7){v=m;Y(k.1G);4 k.1G.1y}l 2(A===7){A=m;Y(k.1F);4 k.1F.1y}l{Y(k.1E);4 k.1E.1y}}2(e.1w===9){2(A==7||v==7||F==7){4 m}2(H!==-1){14();H=d.1c().6-H;1W(H,0);H=-1;4 m}l{Y(k.1H);4 k.1H.1y}}}}2c()})};$.24.3S=3(){4 G.1e(3(){B a=$(G).1P().3T(\'2f\');a.1x(\'z\').1x(\'z.T\').1x(\'z\').Q(a)})};$.T=3(a){B b={1q:m};$.V(b,a);2(b.1q){4 $(b.1q).1e(3(){$(G).19();$(G).2R(\'1R\',[b])})}l{$(\'8\').2R(\'1R\',[b])}}})(3U);',62,243,'||if|function|return||length|true|textarea|||||||||||||else|false||selection|string|caretPosition||||block|ctrlKey|previewWindow|||div|shiftKey|var|li|id|document|altKey|this|caretOffset|prepare|openWith|clicked|iFrame|class|closeWith|hash|value|replaceWith|lines||markItUp|root|extend|replace|browser|markup|ul||start|nameSpace||get|levels|scrollPosition|header|abort|focus|key|placeHolder|val|previewParserPath|each|localize|bind|build|substring|range|previewInWindow|previewTemplatePath|resizeHandle|footer|mouseMove|mouseUp|target|title|line|fixIeBug|scrollTop|rangeCopy|keyCode|parent|keepDefault|previewAutoRefresh|preview|html|beforeInsert|afterInsert|onEnter|onShiftEnter|onCtrlEnter|onTab|miuScript|attr|wrap|dropMenus|appendTo|insertAfter|mousedown|unbind|keyPressed|insertion|name|split|opera|fixOperaBug|set|refreshPreview|createRange|character||close|writeInPreview|sp|fn|previewPosition|after|previewParserVar|data|markupSet|null|template|init|substr|addClass|markItUpEditor|insertBefore|height|clientY|css|mousemove|mouseup|append|keydown|focused|hover|accesskey|separator|for|markItUpButton|click|call|setTimeout|hide|dropMenu|magicMarkups|undefined|insert|msie|text|createTextRange|moveStart|setSelectionRange|selectionStart|window|open|iframe|renderPreview|ajax|type|url|success|documentElement|trigger|templates|script|src|match|jquery|markitup|pack|js|toUpperCase|markItUpContainer|markItUpHeader|markItUpFooter|safari|markItUpResizeHandle|Math|max|px|keyup|display|Ctrl|markItUpSeparator|className|href|contextmenu|focusin|eval|show|one|push|markItUpDropMenu|pop|toString|prompt|isFunction|beforeMultiInsert|trim|join|afterMultiInsert|version|collapse|moveEnd|select|duplicate|moveToElementText|while|inRange|selectionEnd|closed|unload|markItUpPreviewFrame|contentWindow|frame|remove|POST|encodeURIComponent|content|try|catch|write|String|fromCharCode|triggerHandler|markItUpRemove|removeClass|jQuery'.split('|'),0,{}))